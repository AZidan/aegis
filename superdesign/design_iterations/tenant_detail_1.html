<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aegis Platform - Tenant Detail: Breadfast</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],
            mono: ['JetBrains Mono', 'monospace'],
          },
          colors: {
            aegis: {
              50: '#eef2ff',
              100: '#e0e7ff',
              200: '#c7d2fe',
              300: '#a5b4fc',
              400: '#818cf8',
              500: '#6366f1',
              600: '#4f46e5',
              700: '#4338ca',
              800: '#3730a3',
              900: '#312e81',
              950: '#1e1b4b',
            }
          }
        }
      }
    }
  </script>
  <style>
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #c7d2fe; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #a5b4fc; }
    .nav-item { transition: all 0.15s ease; }
    .card-hover { transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
    .card-hover:hover { transform: translateY(-1px); box-shadow: 0 10px 25px -5px rgba(0,0,0,0.08); }
    @keyframes pulse-health {
      0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.5); }
      50% { opacity: 0.85; box-shadow: 0 0 0 6px rgba(34, 197, 94, 0); }
    }
    .health-pulse { animation: pulse-health 2s ease-in-out infinite; }
    @keyframes pulse-dot {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.7; transform: scale(1.15); }
    }
    .pulse-dot { animation: pulse-dot 2s ease-in-out infinite; }
    .health-green { box-shadow: 0 0 6px 1px rgba(34, 197, 94, 0.4); }
    .sidebar-overlay { transition: opacity 0.3s ease; }
    .sidebar-panel { transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .metric-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 3px;
      border-radius: 12px 12px 0 0;
      opacity: 0;
      transition: opacity 0.2s ease;
    }
    .metric-card:hover::before { opacity: 1; }
    .metric-card-indigo::before { background: linear-gradient(90deg, #6366f1, #818cf8); }
    .metric-card-emerald::before { background: linear-gradient(90deg, #10b981, #34d399); }
    .metric-card-amber::before { background: linear-gradient(90deg, #f59e0b, #fbbf24); }
    .metric-card-cyan::before { background: linear-gradient(90deg, #06b6d4, #22d3ee); }
    .progress-fill { transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1); }
    .tab-indicator {
      transition: left 0.25s cubic-bezier(0.4, 0, 0.2, 1), width 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .timeline-item { position: relative; }
    .timeline-item::before {
      content: '';
      position: absolute;
      left: 15px;
      top: 36px;
      bottom: -12px;
      width: 1.5px;
      background: #e2e8f0;
    }
    .timeline-item:last-child::before { display: none; }
    .agent-row { transition: background-color 0.1s ease; }
    .agent-row:hover { background-color: #f8fafc; }
    .btn-press { transition: all 0.15s ease; }
    .btn-press:active { transform: scale(0.97); }
    /* Sidebar collapse */
    .sidebar-collapsed { width: 64px !important; }
    .sidebar-collapsed .sidebar-label,
    .sidebar-collapsed .sidebar-section-label,
    .sidebar-collapsed .sidebar-logo-text,
    .sidebar-collapsed .sidebar-user-info,
    .sidebar-collapsed .sidebar-user-chevron,
    .sidebar-collapsed .sidebar-badge { display: none !important; }
    .sidebar-collapsed .sidebar-nav-link { justify-content: center; padding-left: 0; padding-right: 0; }
    .sidebar-collapsed .sidebar-nav-link svg { margin: 0; }
    .sidebar-collapsed .sidebar-logo-area { justify-content: center; padding-left: 0; padding-right: 0; }
    .sidebar-collapsed .sidebar-user-area { justify-content: center; }
    .sidebar-collapsed .sidebar-user-avatar { margin: 0 auto; }
    .sidebar-collapsed .sidebar-collapse-btn svg { transform: rotate(180deg); }
    /* Gauge styles */
    .gauge-ring { transition: stroke-dashoffset 0.8s cubic-bezier(0.4, 0, 0.2, 1); }
    /* Env var mask */
    .env-masked { filter: blur(4px); user-select: none; }
    .env-masked.revealed { filter: none; user-select: auto; }
  </style>
</head>
<body class="h-full bg-[#f8fafc] font-sans text-gray-900 antialiased">

  <!-- Mobile sidebar overlay -->
  <div id="sidebarOverlay" class="sidebar-overlay fixed inset-0 bg-black/50 z-40 opacity-0 pointer-events-none lg:hidden" onclick="closeSidebar()"></div>

  <div class="flex h-full">

    <!-- ==================== SIDEBAR ==================== -->
    <aside id="sidebar" class="sidebar-panel fixed lg:static inset-y-0 left-0 z-50 w-[240px] bg-aegis-950 flex flex-col -translate-x-full lg:translate-x-0">

      <!-- Logo -->
      <div class="sidebar-logo-area flex items-center gap-3 px-5 h-16 border-b border-white/[0.06]">
        <div class="relative w-8 h-8 flex items-center justify-center shrink-0">
          <svg width="28" height="32" viewBox="0 0 28 32" fill="none">
            <path d="M14 0L27 6V16C27 24.284 21.228 29.952 14 32C6.772 29.952 1 24.284 1 16V6L14 0Z" fill="url(#shield-grad)" stroke="url(#shield-stroke)" stroke-width="1"/>
            <path d="M10 16L13 19L19 13" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <defs>
              <linearGradient id="shield-grad" x1="14" y1="0" x2="14" y2="32" gradientUnits="userSpaceOnUse">
                <stop stop-color="#818cf8"/><stop offset="1" stop-color="#4f46e5"/>
              </linearGradient>
              <linearGradient id="shield-stroke" x1="14" y1="0" x2="14" y2="32" gradientUnits="userSpaceOnUse">
                <stop stop-color="#a5b4fc"/><stop offset="1" stop-color="#6366f1"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
        <div class="sidebar-logo-text">
          <span class="text-[15px] font-bold text-white tracking-tight">Aegis</span>
          <span class="text-[15px] font-medium text-aegis-300 tracking-tight ml-1">Admin</span>
        </div>
      </div>

      <!-- Navigation -->
      <nav class="flex-1 px-3 py-4 space-y-1 overflow-y-auto">
        <!-- OVERVIEW section -->
        <p class="sidebar-section-label px-3 pt-1 pb-2 text-[10px] font-bold text-gray-500 uppercase tracking-widest">Overview</p>

        <a href="/admin" class="sidebar-nav-link nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-400 hover:text-white hover:bg-white/[0.04]">
          <svg class="w-[18px] h-[18px] shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"/>
          </svg>
          <span class="sidebar-label text-[13px] font-medium">Dashboard</span>
        </a>

        <!-- Tenants (Active) -->
        <a href="/admin/tenants" class="sidebar-nav-link nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg bg-white/[0.08] text-white">
          <svg class="w-[18px] h-[18px] text-aegis-400 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"/>
          </svg>
          <span class="sidebar-label text-[13px] font-medium">Tenants</span>
        </a>

        <!-- System Health -->
        <a href="/admin/health" class="sidebar-nav-link nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-400 hover:text-white hover:bg-white/[0.04]">
          <svg class="w-[18px] h-[18px] shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"/>
          </svg>
          <span class="sidebar-label text-[13px] font-medium">System Health</span>
        </a>

        <!-- MARKETPLACE section -->
        <p class="sidebar-section-label px-3 pt-5 pb-2 text-[10px] font-bold text-gray-500 uppercase tracking-widest">Marketplace</p>

        <a href="/admin/skills/review" class="sidebar-nav-link nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-400 hover:text-white hover:bg-white/[0.04]">
          <svg class="w-[18px] h-[18px] shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          <span class="sidebar-label text-[13px] font-medium">Skill Review</span>
          <span class="sidebar-badge ml-auto text-[10px] font-bold bg-amber-500 text-white px-1.5 py-0.5 rounded-full leading-none">3</span>
        </a>
      </nav>

      <!-- Collapse toggle -->
      <div class="px-3 pb-2">
        <button onclick="toggleSidebarCollapse()" class="sidebar-collapse-btn w-full flex items-center justify-center p-2 rounded-lg text-gray-500 hover:text-white hover:bg-white/[0.04] transition-colors">
          <svg class="w-4 h-4 transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5"/>
          </svg>
        </button>
      </div>

      <!-- Sidebar footer / Admin avatar -->
      <div class="px-3 pb-4 border-t border-white/[0.06] pt-3">
        <div class="sidebar-user-area relative flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-white/[0.04] cursor-pointer transition-colors" onclick="toggleUserMenu()">
          <div class="sidebar-user-avatar w-8 h-8 rounded-full bg-gradient-to-br from-aegis-400 to-aegis-600 flex items-center justify-center text-[11px] font-bold text-white ring-2 ring-white/10 shrink-0">
            AZ
          </div>
          <div class="sidebar-user-info flex-1 min-w-0">
            <div class="text-[13px] font-medium text-white truncate">Admin</div>
            <div class="text-[11px] text-gray-500 truncate">Platform Owner</div>
          </div>
          <svg class="sidebar-user-chevron w-4 h-4 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"/>
          </svg>
        </div>
        <!-- User dropdown -->
        <div id="userMenu" class="hidden absolute bottom-20 left-3 right-3 bg-aegis-900 rounded-lg border border-white/10 shadow-xl overflow-hidden z-50">
          <a href="#" class="flex items-center gap-2 px-4 py-2.5 text-[13px] text-gray-300 hover:bg-white/[0.06] hover:text-white transition-colors">
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"/><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
            Settings
          </a>
          <a href="#" class="flex items-center gap-2 px-4 py-2.5 text-[13px] text-red-400 hover:bg-white/[0.06] hover:text-red-300 transition-colors border-t border-white/[0.06]">
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"/></svg>
            Sign Out
          </a>
        </div>
      </div>
    </aside>

    <!-- ==================== MAIN CONTENT ==================== -->
    <div class="flex-1 flex flex-col min-w-0 overflow-hidden">

      <!-- Header bar -->
      <header class="flex items-center justify-between h-16 px-6 lg:px-8 border-b border-gray-200/80 bg-white/70 backdrop-blur-sm shrink-0">
        <div class="flex items-center gap-4">
          <button onclick="openSidebar()" class="lg:hidden -ml-1 p-1.5 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors">
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"/></svg>
          </button>
          <!-- Breadcrumb -->
          <nav class="flex items-center gap-1.5 text-[13px]">
            <a href="/admin" class="text-gray-400 hover:text-aegis-600 transition-colors font-medium">Admin</a>
            <svg class="w-3.5 h-3.5 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"/></svg>
            <a href="/admin/tenants" class="text-gray-400 hover:text-aegis-600 transition-colors font-medium">Tenants</a>
            <svg class="w-3.5 h-3.5 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"/></svg>
            <span class="text-gray-700 font-semibold">Breadfast</span>
          </nav>
        </div>
        <div class="flex items-center gap-2">
          <button class="relative p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"/></svg>
          </button>
        </div>
      </header>

      <!-- Scrollable main area -->
      <main class="flex-1 overflow-y-auto">
        <div class="px-6 lg:px-8 py-6 max-w-[1440px]">

          <!-- ==================== TENANT HEADER ==================== -->
          <div class="bg-white rounded-xl border border-gray-200/60 p-6 mb-6">
            <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
              <div class="flex items-center gap-4">
                <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-aegis-400 via-aegis-500 to-aegis-700 flex items-center justify-center text-[18px] font-bold text-white shadow-lg shadow-aegis-500/20 shrink-0">BF</div>
                <div>
                  <div class="flex items-center gap-3 flex-wrap">
                    <h1 class="text-xl font-bold text-gray-900 tracking-tight">Breadfast</h1>
                    <span class="font-mono text-[11px] font-medium text-gray-400 bg-gray-100 px-2 py-0.5 rounded-md">TEN-001</span>
                    <span class="inline-flex items-center gap-1.5 text-[11px] font-semibold bg-emerald-50 text-emerald-700 px-2.5 py-0.5 rounded-full border border-emerald-200/60">
                      <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Active
                    </span>
                  </div>
                  <div class="flex items-center gap-3 mt-1.5">
                    <div class="flex items-center gap-1.5">
                      <span class="w-2 h-2 rounded-full bg-emerald-500 health-pulse health-green"></span>
                      <span class="text-[12px] font-medium text-emerald-600">Healthy</span>
                    </div>
                    <span class="w-px h-3 bg-gray-200"></span>
                    <span class="text-[12px] text-gray-400">Container running for <span class="font-mono text-gray-500 font-medium">14d 6h 32m</span></span>
                  </div>
                </div>
              </div>
              <!-- Actions dropdown -->
              <div class="flex items-center gap-2 shrink-0">
                <div class="relative">
                  <button onclick="toggleActionsMenu()" class="btn-press inline-flex items-center gap-1.5 px-3.5 py-2 text-[13px] font-medium text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-colors shadow-sm">
                    Actions
                    <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/></svg>
                  </button>
                  <div id="actionsMenu" class="hidden absolute right-0 top-full mt-1 w-52 bg-white rounded-lg border border-gray-200 shadow-lg z-50 overflow-hidden">
                    <button onclick="handleRestartContainer()" class="w-full flex items-center gap-2.5 px-4 py-2.5 text-[13px] text-gray-700 hover:bg-gray-50 transition-colors text-left">
                      <svg class="w-4 h-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182"/></svg>
                      Restart Container
                    </button>
                    <button onclick="handleExportLogs()" class="w-full flex items-center gap-2.5 px-4 py-2.5 text-[13px] text-gray-700 hover:bg-gray-50 transition-colors text-left">
                      <svg class="w-4 h-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"/></svg>
                      Export Logs
                    </button>
                    <div class="border-t border-gray-100"></div>
                    <button onclick="handleSuspend()" class="w-full flex items-center gap-2.5 px-4 py-2.5 text-[13px] text-red-600 hover:bg-red-50 transition-colors text-left">
                      <svg class="w-4 h-4 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"/></svg>
                      Suspend Tenant
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- ==================== TABS ==================== -->
          <div class="relative mb-6">
            <div class="flex gap-0 border-b border-gray-200 overflow-x-auto">
              <button onclick="switchTab('overview')" data-tab="overview" class="tab-btn relative px-5 py-3 text-[13px] font-semibold text-aegis-600 transition-colors whitespace-nowrap">Overview</button>
              <button onclick="switchTab('configuration')" data-tab="configuration" class="tab-btn relative px-5 py-3 text-[13px] font-medium text-gray-400 hover:text-gray-600 transition-colors whitespace-nowrap">Configuration</button>
              <button onclick="switchTab('agents')" data-tab="agents" class="tab-btn relative px-5 py-3 text-[13px] font-medium text-gray-400 hover:text-gray-600 transition-colors whitespace-nowrap flex items-center gap-1.5">
                Agents
                <span class="text-[10px] font-bold bg-aegis-100 text-aegis-700 px-1.5 py-0.5 rounded-full leading-none">8</span>
              </button>
              <button onclick="switchTab('resources')" data-tab="resources" class="tab-btn relative px-5 py-3 text-[13px] font-medium text-gray-400 hover:text-gray-600 transition-colors whitespace-nowrap">Resources</button>
              <button onclick="switchTab('audit')" data-tab="audit" class="tab-btn relative px-5 py-3 text-[13px] font-medium text-gray-400 hover:text-gray-600 transition-colors whitespace-nowrap">Audit Log</button>
            </div>
            <div id="tabIndicator" class="tab-indicator absolute bottom-0 h-[2px] bg-aegis-500 rounded-full" style="left: 0px; width: 86px;"></div>
          </div>

          <!-- ==================== TAB PANELS ==================== -->

          <!-- ============ TAB 1: OVERVIEW ============ -->
          <div id="tab-overview" class="tab-panel">
            <!-- Metric Cards -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
              <div class="metric-card metric-card-indigo relative bg-white rounded-xl border border-gray-200/60 p-5 card-hover overflow-hidden">
                <div class="flex items-start justify-between">
                  <div>
                    <p class="text-[12px] font-medium text-gray-400 uppercase tracking-wider">Active Agents</p>
                    <p class="text-[28px] font-bold text-gray-900 mt-1 tracking-tight">8</p>
                    <div class="flex items-center gap-1.5 mt-2">
                      <span class="inline-flex items-center gap-0.5 text-[12px] font-semibold text-emerald-600 bg-emerald-50 px-1.5 py-0.5 rounded-md">+2</span>
                      <span class="text-[11px] text-gray-400">this week</span>
                    </div>
                  </div>
                  <div class="w-10 h-10 rounded-xl bg-aegis-50 flex items-center justify-center">
                    <svg class="w-5 h-5 text-aegis-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"/></svg>
                  </div>
                </div>
              </div>
              <div class="metric-card metric-card-emerald relative bg-white rounded-xl border border-gray-200/60 p-5 card-hover overflow-hidden">
                <div class="flex items-start justify-between">
                  <div>
                    <p class="text-[12px] font-medium text-gray-400 uppercase tracking-wider">Total Skills</p>
                    <p class="text-[28px] font-bold text-gray-900 mt-1 tracking-tight">15</p>
                    <div class="flex items-center gap-1.5 mt-2">
                      <span class="inline-flex items-center gap-0.5 text-[12px] font-semibold text-amber-600 bg-amber-50 px-1.5 py-0.5 rounded-md">3 custom</span>
                      <span class="text-[11px] text-gray-400">12 marketplace</span>
                    </div>
                  </div>
                  <div class="w-10 h-10 rounded-xl bg-emerald-50 flex items-center justify-center">
                    <svg class="w-5 h-5 text-emerald-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 01-.657.643 48.491 48.491 0 01-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 01-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 00-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 01-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 00.657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 01-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 005.427-.63 48.05 48.05 0 00.582-4.717.532.532 0 00-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 00.658-.663 48.422 48.422 0 00-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 01-.61-.58v0z"/></svg>
                  </div>
                </div>
              </div>
              <div class="metric-card metric-card-cyan relative bg-white rounded-xl border border-gray-200/60 p-5 card-hover overflow-hidden">
                <div class="flex items-start justify-between">
                  <div>
                    <p class="text-[12px] font-medium text-gray-400 uppercase tracking-wider">Uptime %</p>
                    <p class="text-[28px] font-bold text-gray-900 mt-1 tracking-tight font-mono">99.97<span class="text-[18px] text-gray-400">%</span></p>
                    <div class="flex items-center gap-1.5 mt-2">
                      <span class="inline-flex items-center text-[12px] font-semibold text-cyan-600 bg-cyan-50 px-1.5 py-0.5 rounded-md">Last 30 days</span>
                    </div>
                  </div>
                  <div class="w-10 h-10 rounded-xl bg-cyan-50 flex items-center justify-center">
                    <svg class="w-5 h-5 text-cyan-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"/></svg>
                  </div>
                </div>
              </div>
              <div class="metric-card metric-card-amber relative bg-white rounded-xl border border-gray-200/60 p-5 card-hover overflow-hidden">
                <div class="flex items-start justify-between">
                  <div>
                    <p class="text-[12px] font-medium text-gray-400 uppercase tracking-wider">API Calls (24h)</p>
                    <p class="text-[28px] font-bold text-gray-900 mt-1 tracking-tight font-mono">12,847</p>
                    <div class="flex items-center gap-1.5 mt-2">
                      <span class="inline-flex items-center gap-0.5 text-[12px] font-semibold text-emerald-600 bg-emerald-50 px-1.5 py-0.5 rounded-md">+12%</span>
                      <span class="text-[11px] text-gray-400">vs yesterday</span>
                    </div>
                  </div>
                  <div class="w-10 h-10 rounded-xl bg-amber-50 flex items-center justify-center">
                    <svg class="w-5 h-5 text-amber-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M7.5 14.25v2.25m3-4.5v4.5m3-6.75v6.75m3-9v9M6 20.25h12A2.25 2.25 0 0020.25 18V6A2.25 2.25 0 0018 3.75H6A2.25 2.25 0 003.75 6v12A2.25 2.25 0 006 20.25z"/></svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- Container Health + Activity -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- Container Health -->
              <div class="bg-white rounded-xl border border-gray-200/60 p-6">
                <div class="flex items-center justify-between mb-5">
                  <h3 class="text-[14px] font-semibold text-gray-900">Container Health</h3>
                  <div class="flex items-center gap-1.5">
                    <span class="w-2 h-2 rounded-full bg-emerald-500 health-green"></span>
                    <span class="text-[11px] font-semibold text-emerald-600">Running</span>
                  </div>
                </div>
                <div class="space-y-5">
                  <div>
                    <div class="flex items-center justify-between mb-1.5">
                      <span class="text-[12px] font-medium text-gray-500">CPU Usage</span>
                      <span class="text-[12px] font-mono font-semibold text-gray-700">34%</span>
                    </div>
                    <div class="w-full h-2 bg-gray-100 rounded-full overflow-hidden">
                      <div class="progress-fill h-full bg-emerald-500 rounded-full" style="width: 34%"></div>
                    </div>
                  </div>
                  <div>
                    <div class="flex items-center justify-between mb-1.5">
                      <span class="text-[12px] font-medium text-gray-500">Memory</span>
                      <span class="text-[12px] font-mono font-semibold text-gray-700">62%</span>
                    </div>
                    <div class="w-full h-2 bg-gray-100 rounded-full overflow-hidden">
                      <div class="progress-fill h-full bg-amber-400 rounded-full" style="width: 62%"></div>
                    </div>
                  </div>
                  <div>
                    <div class="flex items-center justify-between mb-1.5">
                      <span class="text-[12px] font-medium text-gray-500">Disk</span>
                      <span class="text-[12px] font-mono font-semibold text-gray-700">28%</span>
                    </div>
                    <div class="w-full h-2 bg-gray-100 rounded-full overflow-hidden">
                      <div class="progress-fill h-full bg-emerald-500 rounded-full" style="width: 28%"></div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Activity Timeline -->
              <div class="bg-white rounded-xl border border-gray-200/60 p-6">
                <div class="flex items-center justify-between mb-5">
                  <h3 class="text-[14px] font-semibold text-gray-900">Activity Timeline</h3>
                  <a href="#" class="text-[12px] font-medium text-aegis-500 hover:text-aegis-700 transition-colors">View all</a>
                </div>
                <div class="space-y-4">
                  <div class="timeline-item flex gap-3 pb-1">
                    <div class="w-8 h-8 rounded-full bg-aegis-50 flex items-center justify-center shrink-0 mt-0.5">
                      <svg class="w-4 h-4 text-aegis-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"/></svg>
                    </div>
                    <div class="flex-1 min-w-0">
                      <p class="text-[13px] text-gray-700"><span class="font-semibold">Marketing Assistant</span> agent created</p>
                      <p class="text-[11px] font-mono text-gray-400 mt-0.5">Feb 5, 2026 10:32 AM</p>
                    </div>
                  </div>
                  <div class="timeline-item flex gap-3 pb-1">
                    <div class="w-8 h-8 rounded-full bg-emerald-50 flex items-center justify-center shrink-0 mt-0.5">
                      <svg class="w-4 h-4 text-emerald-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    </div>
                    <div class="flex-1 min-w-0">
                      <p class="text-[13px] text-gray-700">Skill <span class="font-semibold">Arabic Sentiment Analysis</span> installed</p>
                      <p class="text-[11px] font-mono text-gray-400 mt-0.5">Feb 5, 2026 09:15 AM</p>
                    </div>
                  </div>
                  <div class="timeline-item flex gap-3 pb-1">
                    <div class="w-8 h-8 rounded-full bg-amber-50 flex items-center justify-center shrink-0 mt-0.5">
                      <svg class="w-4 h-4 text-amber-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17l-5.1-5.1m0 0L12 4.36m-5.68 5.71h11.36"/></svg>
                    </div>
                    <div class="flex-1 min-w-0">
                      <p class="text-[13px] text-gray-700">Config changed: <span class="font-mono text-[12px] text-gray-500">default_model</span> updated to GPT-4o</p>
                      <p class="text-[11px] font-mono text-gray-400 mt-0.5">Feb 4, 2026 11:48 PM</p>
                    </div>
                  </div>
                  <div class="timeline-item flex gap-3">
                    <div class="w-8 h-8 rounded-full bg-cyan-50 flex items-center justify-center shrink-0 mt-0.5">
                      <svg class="w-4 h-4 text-cyan-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182"/></svg>
                    </div>
                    <div class="flex-1 min-w-0">
                      <p class="text-[13px] text-gray-700"><span class="font-semibold">Delivery Coordinator</span> model upgraded to <span class="font-mono text-[12px] font-medium text-gray-600">GPT-4o-2025-02</span></p>
                      <p class="text-[11px] font-mono text-gray-400 mt-0.5">Feb 4, 2026 03:22 PM</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- ============ TAB 2: CONFIGURATION ============ -->
          <div id="tab-configuration" class="tab-panel hidden">
            <div class="space-y-6">
              <!-- Plan Tier -->
              <div class="bg-white rounded-xl border border-gray-200/60 p-6">
                <div class="flex items-center justify-between mb-5">
                  <h3 class="text-[14px] font-semibold text-gray-900">Plan Tier</h3>
                  <button class="btn-press text-[12px] font-medium text-aegis-600 hover:text-aegis-700 bg-aegis-50 px-3 py-1.5 rounded-lg transition-colors">Edit Plan</button>
                </div>
                <div class="flex items-center gap-4 mb-4">
                  <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-aegis-500 to-aegis-700 flex items-center justify-center">
                    <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"/></svg>
                  </div>
                  <div>
                    <p class="text-[18px] font-bold text-gray-900">Enterprise</p>
                    <p class="text-[13px] text-gray-500">$799/month - Unlimited agents, priority support, custom integrations</p>
                  </div>
                </div>
              </div>

              <!-- Resource Limits -->
              <div class="bg-white rounded-xl border border-gray-200/60 p-6">
                <div class="flex items-center justify-between mb-5">
                  <h3 class="text-[14px] font-semibold text-gray-900">Resource Limits</h3>
                  <button class="btn-press text-[12px] font-medium text-aegis-600 hover:text-aegis-700 bg-aegis-50 px-3 py-1.5 rounded-lg transition-colors">Edit Limits</button>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                  <div class="bg-gray-50 rounded-lg p-4">
                    <p class="text-[11px] font-medium text-gray-400 uppercase tracking-wider">Max Agents</p>
                    <p class="text-[20px] font-bold text-gray-900 mt-1 font-mono">25</p>
                    <p class="text-[11px] text-gray-400 mt-1">8 currently used</p>
                  </div>
                  <div class="bg-gray-50 rounded-lg p-4">
                    <p class="text-[11px] font-medium text-gray-400 uppercase tracking-wider">Max Skills</p>
                    <p class="text-[20px] font-bold text-gray-900 mt-1 font-mono">50</p>
                    <p class="text-[11px] text-gray-400 mt-1">15 currently used</p>
                  </div>
                  <div class="bg-gray-50 rounded-lg p-4">
                    <p class="text-[11px] font-medium text-gray-400 uppercase tracking-wider">Storage Limit</p>
                    <p class="text-[20px] font-bold text-gray-900 mt-1 font-mono">50 <span class="text-[14px] text-gray-400">GB</span></p>
                    <p class="text-[11px] text-gray-400 mt-1">4.2 GB used</p>
                  </div>
                  <div class="bg-gray-50 rounded-lg p-4">
                    <p class="text-[11px] font-medium text-gray-400 uppercase tracking-wider">API Rate Limit</p>
                    <p class="text-[20px] font-bold text-gray-900 mt-1 font-mono">10K <span class="text-[14px] text-gray-400">/min</span></p>
                    <p class="text-[11px] text-gray-400 mt-1">Avg 2.1K/min</p>
                  </div>
                </div>
              </div>

              <!-- Model Defaults -->
              <div class="bg-white rounded-xl border border-gray-200/60 p-6">
                <div class="flex items-center justify-between mb-5">
                  <h3 class="text-[14px] font-semibold text-gray-900">Model Defaults</h3>
                  <button class="btn-press text-[12px] font-medium text-aegis-600 hover:text-aegis-700 bg-aegis-50 px-3 py-1.5 rounded-lg transition-colors">Edit Defaults</button>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                  <div class="bg-gray-50 rounded-lg p-4">
                    <p class="text-[11px] font-medium text-gray-400 uppercase tracking-wider">Default Model</p>
                    <p class="text-[14px] font-semibold text-gray-900 mt-1 font-mono">GPT-4o</p>
                  </div>
                  <div class="bg-gray-50 rounded-lg p-4">
                    <p class="text-[11px] font-medium text-gray-400 uppercase tracking-wider">Temperature</p>
                    <p class="text-[14px] font-semibold text-gray-900 mt-1 font-mono">0.7</p>
                  </div>
                  <div class="bg-gray-50 rounded-lg p-4">
                    <p class="text-[11px] font-medium text-gray-400 uppercase tracking-wider">Thinking Mode</p>
                    <p class="text-[14px] font-semibold text-gray-900 mt-1">Enabled</p>
                  </div>
                </div>
              </div>

              <!-- Environment Variables -->
              <div class="bg-white rounded-xl border border-gray-200/60 overflow-hidden">
                <div class="flex items-center justify-between px-6 py-4 border-b border-gray-100">
                  <h3 class="text-[14px] font-semibold text-gray-900">Environment Variables</h3>
                  <button class="btn-press text-[12px] font-medium text-aegis-600 hover:text-aegis-700 bg-aegis-50 px-3 py-1.5 rounded-lg transition-colors">Edit Variables</button>
                </div>
                <div class="overflow-x-auto">
                  <table class="w-full text-left">
                    <thead>
                      <tr class="border-b border-gray-100">
                        <th class="px-6 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider">Key</th>
                        <th class="px-4 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider">Value</th>
                        <th class="px-4 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider w-20">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="border-b border-gray-50">
                        <td class="px-6 py-3"><span class="text-[13px] font-mono font-medium text-gray-900">OPENAI_API_KEY</span></td>
                        <td class="px-4 py-3"><span class="text-[13px] font-mono text-gray-500 env-masked" id="env-1">sk-proj-aBcD...xYz9</span></td>
                        <td class="px-4 py-3"><button onclick="toggleEnvReveal('env-1')" class="text-[11px] font-medium text-aegis-600 hover:text-aegis-700">Reveal</button></td>
                      </tr>
                      <tr class="border-b border-gray-50">
                        <td class="px-6 py-3"><span class="text-[13px] font-mono font-medium text-gray-900">ANTHROPIC_API_KEY</span></td>
                        <td class="px-4 py-3"><span class="text-[13px] font-mono text-gray-500 env-masked" id="env-2">sk-ant-api03...mN7q</span></td>
                        <td class="px-4 py-3"><button onclick="toggleEnvReveal('env-2')" class="text-[11px] font-medium text-aegis-600 hover:text-aegis-700">Reveal</button></td>
                      </tr>
                      <tr class="border-b border-gray-50">
                        <td class="px-6 py-3"><span class="text-[13px] font-mono font-medium text-gray-900">WEBHOOK_URL</span></td>
                        <td class="px-4 py-3"><span class="text-[13px] font-mono text-gray-500">https://api.breadfast.com/webhooks/aegis</span></td>
                        <td class="px-4 py-3"><span class="text-[11px] text-gray-300">--</span></td>
                      </tr>
                      <tr class="border-b border-gray-50">
                        <td class="px-6 py-3"><span class="text-[13px] font-mono font-medium text-gray-900">DB_CONNECTION_STRING</span></td>
                        <td class="px-4 py-3"><span class="text-[13px] font-mono text-gray-500 env-masked" id="env-3">mongodb+srv://admin:...@cluster0.abc.net</span></td>
                        <td class="px-4 py-3"><button onclick="toggleEnvReveal('env-3')" class="text-[11px] font-medium text-aegis-600 hover:text-aegis-700">Reveal</button></td>
                      </tr>
                      <tr>
                        <td class="px-6 py-3"><span class="text-[13px] font-mono font-medium text-gray-900">LOG_LEVEL</span></td>
                        <td class="px-4 py-3"><span class="text-[13px] font-mono text-gray-500">info</span></td>
                        <td class="px-4 py-3"><span class="text-[11px] text-gray-300">--</span></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- ============ TAB 3: AGENTS ============ -->
          <div id="tab-agents" class="tab-panel hidden">
            <div class="bg-white rounded-xl border border-gray-200/60 overflow-hidden">
              <div class="flex items-center justify-between px-6 py-4 border-b border-gray-100">
                <h3 class="text-[14px] font-semibold text-gray-900">All Agents</h3>
                <span class="text-[12px] font-mono font-medium text-gray-400 bg-gray-50 px-2 py-0.5 rounded">8 agents</span>
              </div>
              <div class="overflow-x-auto">
                <table class="w-full text-left">
                  <thead>
                    <tr class="border-b border-gray-100">
                      <th class="px-6 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider">Name</th>
                      <th class="px-4 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider">Role</th>
                      <th class="px-4 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider">Model</th>
                      <th class="px-4 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider">Status</th>
                      <th class="px-4 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider">Skills</th>
                      <th class="px-4 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider">Last Active</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="agent-row border-b border-gray-50 cursor-pointer" onclick="handleAgentClick('Customer Support Bot')">
                      <td class="px-6 py-3">
                        <div class="flex items-center gap-2.5">
                          <div class="w-7 h-7 rounded-lg bg-aegis-50 flex items-center justify-center text-[10px] font-bold text-aegis-600">CS</div>
                          <span class="text-[13px] font-medium text-gray-900">Customer Support Bot</span>
                        </div>
                      </td>
                      <td class="px-4 py-3 text-[12px] text-gray-500">Support</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-500">GPT-4o</span></td>
                      <td class="px-4 py-3">
                        <span class="inline-flex items-center gap-1 text-[11px] font-semibold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full">
                          <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Active
                        </span>
                      </td>
                      <td class="px-4 py-3 text-[12px] font-mono text-gray-500">4</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-400">2 min ago</span></td>
                    </tr>
                    <tr class="agent-row border-b border-gray-50 cursor-pointer" onclick="handleAgentClick('Order Tracker')">
                      <td class="px-6 py-3">
                        <div class="flex items-center gap-2.5">
                          <div class="w-7 h-7 rounded-lg bg-emerald-50 flex items-center justify-center text-[10px] font-bold text-emerald-600">OT</div>
                          <span class="text-[13px] font-medium text-gray-900">Order Tracker</span>
                        </div>
                      </td>
                      <td class="px-4 py-3 text-[12px] text-gray-500">Operations</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-500">Claude 3.5</span></td>
                      <td class="px-4 py-3">
                        <span class="inline-flex items-center gap-1 text-[11px] font-semibold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full">
                          <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Active
                        </span>
                      </td>
                      <td class="px-4 py-3 text-[12px] font-mono text-gray-500">3</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-400">5 min ago</span></td>
                    </tr>
                    <tr class="agent-row border-b border-gray-50 cursor-pointer" onclick="handleAgentClick('Delivery Coordinator')">
                      <td class="px-6 py-3">
                        <div class="flex items-center gap-2.5">
                          <div class="w-7 h-7 rounded-lg bg-cyan-50 flex items-center justify-center text-[10px] font-bold text-cyan-600">DC</div>
                          <span class="text-[13px] font-medium text-gray-900">Delivery Coordinator</span>
                        </div>
                      </td>
                      <td class="px-4 py-3 text-[12px] text-gray-500">Logistics</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-500">GPT-4o</span></td>
                      <td class="px-4 py-3">
                        <span class="inline-flex items-center gap-1 text-[11px] font-semibold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full">
                          <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Active
                        </span>
                      </td>
                      <td class="px-4 py-3 text-[12px] font-mono text-gray-500">2</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-400">12 min ago</span></td>
                    </tr>
                    <tr class="agent-row border-b border-gray-50 cursor-pointer" onclick="handleAgentClick('Inventory Manager')">
                      <td class="px-6 py-3">
                        <div class="flex items-center gap-2.5">
                          <div class="w-7 h-7 rounded-lg bg-amber-50 flex items-center justify-center text-[10px] font-bold text-amber-600">IM</div>
                          <span class="text-[13px] font-medium text-gray-900">Inventory Manager</span>
                        </div>
                      </td>
                      <td class="px-4 py-3 text-[12px] text-gray-500">Warehouse</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-500">Claude 3.5</span></td>
                      <td class="px-4 py-3">
                        <span class="inline-flex items-center gap-1 text-[11px] font-semibold text-amber-700 bg-amber-50 px-2 py-0.5 rounded-full">
                          <span class="w-1.5 h-1.5 rounded-full bg-amber-500"></span>Idle
                        </span>
                      </td>
                      <td class="px-4 py-3 text-[12px] font-mono text-gray-500">2</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-400">18 min ago</span></td>
                    </tr>
                    <tr class="agent-row border-b border-gray-50 cursor-pointer" onclick="handleAgentClick('Marketing Assistant')">
                      <td class="px-6 py-3">
                        <div class="flex items-center gap-2.5">
                          <div class="w-7 h-7 rounded-lg bg-rose-50 flex items-center justify-center text-[10px] font-bold text-rose-600">MA</div>
                          <span class="text-[13px] font-medium text-gray-900">Marketing Assistant</span>
                        </div>
                      </td>
                      <td class="px-4 py-3 text-[12px] text-gray-500">Marketing</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-500">GPT-4o</span></td>
                      <td class="px-4 py-3">
                        <span class="inline-flex items-center gap-1 text-[11px] font-semibold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full">
                          <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Active
                        </span>
                      </td>
                      <td class="px-4 py-3 text-[12px] font-mono text-gray-500">1</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-400">25 min ago</span></td>
                    </tr>
                    <tr class="agent-row border-b border-gray-50 cursor-pointer" onclick="handleAgentClick('Arabic NLP Processor')">
                      <td class="px-6 py-3">
                        <div class="flex items-center gap-2.5">
                          <div class="w-7 h-7 rounded-lg bg-violet-50 flex items-center justify-center text-[10px] font-bold text-violet-600">NL</div>
                          <span class="text-[13px] font-medium text-gray-900">Arabic NLP Processor</span>
                        </div>
                      </td>
                      <td class="px-4 py-3 text-[12px] text-gray-500">Language</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-500">Claude 3.5</span></td>
                      <td class="px-4 py-3">
                        <span class="inline-flex items-center gap-1 text-[11px] font-semibold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full">
                          <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Active
                        </span>
                      </td>
                      <td class="px-4 py-3 text-[12px] font-mono text-gray-500">1</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-400">31 min ago</span></td>
                    </tr>
                    <tr class="agent-row border-b border-gray-50 cursor-pointer" onclick="handleAgentClick('Analytics Reporter')">
                      <td class="px-6 py-3">
                        <div class="flex items-center gap-2.5">
                          <div class="w-7 h-7 rounded-lg bg-sky-50 flex items-center justify-center text-[10px] font-bold text-sky-600">AR</div>
                          <span class="text-[13px] font-medium text-gray-900">Analytics Reporter</span>
                        </div>
                      </td>
                      <td class="px-4 py-3 text-[12px] text-gray-500">Analytics</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-500">GPT-4o-mini</span></td>
                      <td class="px-4 py-3">
                        <span class="inline-flex items-center gap-1 text-[11px] font-semibold text-red-700 bg-red-50 px-2 py-0.5 rounded-full">
                          <span class="w-1.5 h-1.5 rounded-full bg-red-500"></span>Error
                        </span>
                      </td>
                      <td class="px-4 py-3 text-[12px] font-mono text-gray-500">1</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-400">2 hrs ago</span></td>
                    </tr>
                    <tr class="agent-row cursor-pointer" onclick="handleAgentClick('Payment Reconciler')">
                      <td class="px-6 py-3">
                        <div class="flex items-center gap-2.5">
                          <div class="w-7 h-7 rounded-lg bg-teal-50 flex items-center justify-center text-[10px] font-bold text-teal-600">PR</div>
                          <span class="text-[13px] font-medium text-gray-900">Payment Reconciler</span>
                        </div>
                      </td>
                      <td class="px-4 py-3 text-[12px] text-gray-500">Finance</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-500">Claude 3.5</span></td>
                      <td class="px-4 py-3">
                        <span class="inline-flex items-center gap-1 text-[11px] font-semibold text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full">
                          <span class="w-1.5 h-1.5 rounded-full bg-gray-400"></span>Stopped
                        </span>
                      </td>
                      <td class="px-4 py-3 text-[12px] font-mono text-gray-500">2</td>
                      <td class="px-4 py-3"><span class="text-[11px] font-mono text-gray-400">6 hrs ago</span></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- ============ TAB 4: RESOURCES ============ -->
          <div id="tab-resources" class="tab-panel hidden">
            <div class="space-y-6">
              <!-- CPU Usage Over Time -->
              <div class="bg-white rounded-xl border border-gray-200/60 p-6">
                <div class="flex items-center justify-between mb-4">
                  <h3 class="text-[14px] font-semibold text-gray-900">CPU Usage Over Time</h3>
                  <span class="text-[11px] font-mono text-gray-400">Last 24 hours</span>
                </div>
                <div class="h-48 bg-gray-50 rounded-lg flex items-end justify-between gap-1 px-4 pb-4 pt-8 relative overflow-hidden">
                  <!-- Y-axis labels -->
                  <div class="absolute left-2 top-2 text-[10px] font-mono text-gray-400">100%</div>
                  <div class="absolute left-2 top-1/2 -translate-y-1/2 text-[10px] font-mono text-gray-400">50%</div>
                  <div class="absolute left-2 bottom-2 text-[10px] font-mono text-gray-400">0%</div>
                  <!-- Grid lines -->
                  <div class="absolute left-8 right-4 top-2 border-t border-dashed border-gray-200"></div>
                  <div class="absolute left-8 right-4 top-1/2 -translate-y-1/2 border-t border-dashed border-gray-200"></div>
                  <!-- Bars -->
                  <div class="flex-1 bg-aegis-200 rounded-t" style="height: 25%"></div>
                  <div class="flex-1 bg-aegis-200 rounded-t" style="height: 30%"></div>
                  <div class="flex-1 bg-aegis-300 rounded-t" style="height: 42%"></div>
                  <div class="flex-1 bg-aegis-300 rounded-t" style="height: 38%"></div>
                  <div class="flex-1 bg-aegis-200 rounded-t" style="height: 28%"></div>
                  <div class="flex-1 bg-aegis-200 rounded-t" style="height: 22%"></div>
                  <div class="flex-1 bg-aegis-200 rounded-t" style="height: 18%"></div>
                  <div class="flex-1 bg-aegis-200 rounded-t" style="height: 15%"></div>
                  <div class="flex-1 bg-aegis-200 rounded-t" style="height: 20%"></div>
                  <div class="flex-1 bg-aegis-300 rounded-t" style="height: 35%"></div>
                  <div class="flex-1 bg-aegis-300 rounded-t" style="height: 45%"></div>
                  <div class="flex-1 bg-aegis-400 rounded-t" style="height: 55%"></div>
                  <div class="flex-1 bg-aegis-400 rounded-t" style="height: 52%"></div>
                  <div class="flex-1 bg-aegis-300 rounded-t" style="height: 48%"></div>
                  <div class="flex-1 bg-aegis-300 rounded-t" style="height: 40%"></div>
                  <div class="flex-1 bg-aegis-300 rounded-t" style="height: 38%"></div>
                  <div class="flex-1 bg-aegis-200 rounded-t" style="height: 32%"></div>
                  <div class="flex-1 bg-aegis-200 rounded-t" style="height: 28%"></div>
                  <div class="flex-1 bg-aegis-200 rounded-t" style="height: 25%"></div>
                  <div class="flex-1 bg-aegis-300 rounded-t" style="height: 30%"></div>
                  <div class="flex-1 bg-aegis-300 rounded-t" style="height: 34%"></div>
                  <div class="flex-1 bg-aegis-300 rounded-t" style="height: 36%"></div>
                  <div class="flex-1 bg-aegis-300 rounded-t" style="height: 34%"></div>
                  <div class="flex-1 bg-aegis-300 rounded-t" style="height: 32%"></div>
                </div>
                <div class="flex justify-between px-4 mt-2">
                  <span class="text-[10px] font-mono text-gray-400">00:00</span>
                  <span class="text-[10px] font-mono text-gray-400">06:00</span>
                  <span class="text-[10px] font-mono text-gray-400">12:00</span>
                  <span class="text-[10px] font-mono text-gray-400">18:00</span>
                  <span class="text-[10px] font-mono text-gray-400">Now</span>
                </div>
              </div>

              <!-- Resource Gauges Row -->
              <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                <!-- Memory Gauge -->
                <div class="bg-white rounded-xl border border-gray-200/60 p-6 text-center">
                  <h4 class="text-[12px] font-medium text-gray-400 uppercase tracking-wider mb-4">Memory Usage</h4>
                  <div class="relative inline-flex items-center justify-center">
                    <svg class="w-28 h-28 -rotate-90" viewBox="0 0 120 120">
                      <circle cx="60" cy="60" r="52" fill="none" stroke="#f3f4f6" stroke-width="10"/>
                      <circle cx="60" cy="60" r="52" fill="none" stroke="#f59e0b" stroke-width="10" stroke-linecap="round" stroke-dasharray="326.73" stroke-dashoffset="124.16" class="gauge-ring"/>
                    </svg>
                    <div class="absolute inset-0 flex flex-col items-center justify-center">
                      <span class="text-[22px] font-bold font-mono text-gray-900">62%</span>
                      <span class="text-[10px] text-gray-400">4.96 / 8 GB</span>
                    </div>
                  </div>
                  <p class="text-[11px] text-amber-600 font-medium mt-3">Approaching limit</p>
                </div>
                <!-- Disk Gauge -->
                <div class="bg-white rounded-xl border border-gray-200/60 p-6 text-center">
                  <h4 class="text-[12px] font-medium text-gray-400 uppercase tracking-wider mb-4">Disk Usage</h4>
                  <div class="relative inline-flex items-center justify-center">
                    <svg class="w-28 h-28 -rotate-90" viewBox="0 0 120 120">
                      <circle cx="60" cy="60" r="52" fill="none" stroke="#f3f4f6" stroke-width="10"/>
                      <circle cx="60" cy="60" r="52" fill="none" stroke="#10b981" stroke-width="10" stroke-linecap="round" stroke-dasharray="326.73" stroke-dashoffset="235.24" class="gauge-ring"/>
                    </svg>
                    <div class="absolute inset-0 flex flex-col items-center justify-center">
                      <span class="text-[22px] font-bold font-mono text-gray-900">28%</span>
                      <span class="text-[10px] text-gray-400">4.2 / 15 GB</span>
                    </div>
                  </div>
                  <p class="text-[11px] text-emerald-600 font-medium mt-3">Healthy</p>
                </div>
                <!-- Network I/O -->
                <div class="bg-white rounded-xl border border-gray-200/60 p-6 text-center">
                  <h4 class="text-[12px] font-medium text-gray-400 uppercase tracking-wider mb-4">Network I/O</h4>
                  <div class="space-y-4 mt-6">
                    <div>
                      <p class="text-[11px] text-gray-400">Inbound</p>
                      <p class="text-[20px] font-bold font-mono text-gray-900">842 <span class="text-[12px] text-gray-400">MB</span></p>
                    </div>
                    <div>
                      <p class="text-[11px] text-gray-400">Outbound</p>
                      <p class="text-[20px] font-bold font-mono text-gray-900">1.2 <span class="text-[12px] text-gray-400">GB</span></p>
                    </div>
                  </div>
                  <p class="text-[11px] text-gray-400 font-medium mt-3">Last 24h</p>
                </div>
                <!-- Container Uptime -->
                <div class="bg-white rounded-xl border border-gray-200/60 p-6 text-center">
                  <h4 class="text-[12px] font-medium text-gray-400 uppercase tracking-wider mb-4">Container Uptime</h4>
                  <div class="mt-6">
                    <p class="text-[28px] font-bold font-mono text-gray-900">14d</p>
                    <p class="text-[16px] font-mono text-gray-500">6h 32m</p>
                  </div>
                  <p class="text-[11px] text-emerald-600 font-medium mt-4">Since Jan 22, 2026</p>
                </div>
              </div>

              <!-- Resource Limit Warnings -->
              <div class="bg-amber-50 rounded-xl border border-amber-200/60 p-5">
                <div class="flex items-start gap-3">
                  <div class="w-8 h-8 rounded-lg bg-amber-100 flex items-center justify-center shrink-0 mt-0.5">
                    <svg class="w-4 h-4 text-amber-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"/></svg>
                  </div>
                  <div>
                    <p class="text-[13px] font-semibold text-amber-800">Resource Warning</p>
                    <p class="text-[12px] text-amber-700 mt-1">Memory usage is at 62% (4.96 GB of 8 GB). Consider scaling up if usage continues to increase. Auto-scale threshold is set at 80%.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- ============ TAB 5: AUDIT LOG ============ -->
          <div id="tab-audit" class="tab-panel hidden">
            <div class="bg-white rounded-xl border border-gray-200/60 overflow-hidden">
              <div class="flex items-center justify-between px-6 py-4 border-b border-gray-100 flex-wrap gap-3">
                <h3 class="text-[14px] font-semibold text-gray-900">Audit Log</h3>
                <div class="flex items-center gap-2">
                  <select id="auditFilter" onchange="filterAuditLog()" class="text-[12px] font-medium text-gray-600 bg-gray-50 border border-gray-200 rounded-lg px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-aegis-500/20 focus:border-aegis-400">
                    <option value="all">All Actions</option>
                    <option value="agent">Agent Actions</option>
                    <option value="config">Config Changes</option>
                    <option value="security">Security Events</option>
                    <option value="system">System Events</option>
                  </select>
                </div>
              </div>
              <div class="overflow-x-auto">
                <table class="w-full text-left">
                  <thead>
                    <tr class="border-b border-gray-100">
                      <th class="px-6 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider">Time</th>
                      <th class="px-4 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider">Actor</th>
                      <th class="px-4 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider">Action</th>
                      <th class="px-4 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider">Target</th>
                      <th class="px-4 py-2.5 text-[11px] font-semibold text-gray-400 uppercase tracking-wider">Result</th>
                    </tr>
                  </thead>
                  <tbody id="auditTableBody">
                    <tr class="border-b border-gray-50 audit-row" data-type="agent">
                      <td class="px-6 py-3"><span class="text-[11px] font-mono text-gray-400">Feb 6, 2026 09:14 AM</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] font-medium text-gray-700">System</span></td>
                      <td class="px-4 py-3"><span class="inline-flex text-[11px] font-medium text-aegis-700 bg-aegis-50 px-2 py-0.5 rounded">agent.health_check</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] text-gray-500">All Agents</span></td>
                      <td class="px-4 py-3"><span class="inline-flex items-center gap-1 text-[11px] font-semibold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full"><span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Success</span></td>
                    </tr>
                    <tr class="border-b border-gray-50 audit-row" data-type="config">
                      <td class="px-6 py-3"><span class="text-[11px] font-mono text-gray-400">Feb 6, 2026 08:45 AM</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] font-medium text-gray-700">ahmed@breadfast.com</span></td>
                      <td class="px-4 py-3"><span class="inline-flex text-[11px] font-medium text-amber-700 bg-amber-50 px-2 py-0.5 rounded">config.update</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] text-gray-500">Environment Variables</span></td>
                      <td class="px-4 py-3"><span class="inline-flex items-center gap-1 text-[11px] font-semibold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full"><span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Success</span></td>
                    </tr>
                    <tr class="border-b border-gray-50 audit-row" data-type="agent">
                      <td class="px-6 py-3"><span class="text-[11px] font-mono text-gray-400">Feb 5, 2026 10:32 AM</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] font-medium text-gray-700">ahmed@breadfast.com</span></td>
                      <td class="px-4 py-3"><span class="inline-flex text-[11px] font-medium text-aegis-700 bg-aegis-50 px-2 py-0.5 rounded">agent.create</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] text-gray-500">Marketing Assistant</span></td>
                      <td class="px-4 py-3"><span class="inline-flex items-center gap-1 text-[11px] font-semibold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full"><span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Success</span></td>
                    </tr>
                    <tr class="border-b border-gray-50 audit-row" data-type="agent">
                      <td class="px-6 py-3"><span class="text-[11px] font-mono text-gray-400">Feb 5, 2026 09:15 AM</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] font-medium text-gray-700">ahmed@breadfast.com</span></td>
                      <td class="px-4 py-3"><span class="inline-flex text-[11px] font-medium text-aegis-700 bg-aegis-50 px-2 py-0.5 rounded">skill.install</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] text-gray-500">Arabic Sentiment Analysis</span></td>
                      <td class="px-4 py-3"><span class="inline-flex items-center gap-1 text-[11px] font-semibold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full"><span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Success</span></td>
                    </tr>
                    <tr class="border-b border-gray-50 audit-row" data-type="system">
                      <td class="px-6 py-3"><span class="text-[11px] font-mono text-gray-400">Feb 4, 2026 11:48 PM</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] font-medium text-gray-700">System</span></td>
                      <td class="px-4 py-3"><span class="inline-flex text-[11px] font-medium text-cyan-700 bg-cyan-50 px-2 py-0.5 rounded">resource.auto_scale</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] text-gray-500">Memory (4GB -> 8GB)</span></td>
                      <td class="px-4 py-3"><span class="inline-flex items-center gap-1 text-[11px] font-semibold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full"><span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Success</span></td>
                    </tr>
                    <tr class="border-b border-gray-50 audit-row" data-type="config">
                      <td class="px-6 py-3"><span class="text-[11px] font-mono text-gray-400">Feb 4, 2026 03:22 PM</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] font-medium text-gray-700">ahmed@breadfast.com</span></td>
                      <td class="px-4 py-3"><span class="inline-flex text-[11px] font-medium text-amber-700 bg-amber-50 px-2 py-0.5 rounded">agent.model_update</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] text-gray-500">Delivery Coordinator</span></td>
                      <td class="px-4 py-3"><span class="inline-flex items-center gap-1 text-[11px] font-semibold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full"><span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Success</span></td>
                    </tr>
                    <tr class="border-b border-gray-50 audit-row" data-type="security">
                      <td class="px-6 py-3"><span class="text-[11px] font-mono text-gray-400">Feb 4, 2026 10:05 AM</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] font-medium text-gray-700">ahmed@breadfast.com</span></td>
                      <td class="px-4 py-3"><span class="inline-flex text-[11px] font-medium text-violet-700 bg-violet-50 px-2 py-0.5 rounded">auth.login</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] text-gray-500">Admin Panel</span></td>
                      <td class="px-4 py-3"><span class="inline-flex items-center gap-1 text-[11px] font-semibold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full"><span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Success</span></td>
                    </tr>
                    <tr class="border-b border-gray-50 audit-row" data-type="security">
                      <td class="px-6 py-3"><span class="text-[11px] font-mono text-gray-400">Feb 3, 2026 11:30 PM</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] font-medium text-gray-700">unknown@test.com</span></td>
                      <td class="px-4 py-3"><span class="inline-flex text-[11px] font-medium text-red-700 bg-red-50 px-2 py-0.5 rounded">auth.login_attempt</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] text-gray-500">Admin Panel</span></td>
                      <td class="px-4 py-3"><span class="inline-flex items-center gap-1 text-[11px] font-semibold text-red-700 bg-red-50 px-2 py-0.5 rounded-full"><span class="w-1.5 h-1.5 rounded-full bg-red-500"></span>Failed</span></td>
                    </tr>
                    <tr class="audit-row" data-type="system">
                      <td class="px-6 py-3"><span class="text-[11px] font-mono text-gray-400">Feb 3, 2026 06:00 AM</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] font-medium text-gray-700">System</span></td>
                      <td class="px-4 py-3"><span class="inline-flex text-[11px] font-medium text-cyan-700 bg-cyan-50 px-2 py-0.5 rounded">backup.complete</span></td>
                      <td class="px-4 py-3"><span class="text-[12px] text-gray-500">Tenant Data</span></td>
                      <td class="px-4 py-3"><span class="inline-flex items-center gap-1 text-[11px] font-semibold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full"><span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>Success</span></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

        </div>
      </main>
    </div>

  </div>

  <!-- ==================== JAVASCRIPT ==================== -->
  <script>
    // ---- Sidebar (mobile) ----
    function openSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('sidebarOverlay');
      sidebar.classList.remove('-translate-x-full');
      overlay.classList.remove('opacity-0', 'pointer-events-none');
    }
    function closeSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('sidebarOverlay');
      sidebar.classList.add('-translate-x-full');
      overlay.classList.add('opacity-0', 'pointer-events-none');
    }

    // ---- Sidebar collapse ----
    function toggleSidebarCollapse() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('sidebar-collapsed');
    }

    // ---- User menu ----
    function toggleUserMenu() {
      const menu = document.getElementById('userMenu');
      menu.classList.toggle('hidden');
    }

    // ---- Actions menu ----
    function toggleActionsMenu() {
      const menu = document.getElementById('actionsMenu');
      menu.classList.toggle('hidden');
    }
    document.addEventListener('click', function(e) {
      const actionsMenu = document.getElementById('actionsMenu');
      if (actionsMenu && !e.target.closest('#actionsMenu') && !e.target.closest('[onclick="toggleActionsMenu()"]')) {
        actionsMenu.classList.add('hidden');
      }
      const userMenu = document.getElementById('userMenu');
      if (userMenu && !e.target.closest('#userMenu') && !e.target.closest('[onclick="toggleUserMenu()"]')) {
        userMenu.classList.add('hidden');
      }
    });

    // ---- Tab switching ----
    function switchTab(tabName) {
      document.querySelectorAll('.tab-panel').forEach(function(panel) {
        panel.classList.add('hidden');
      });
      var selectedPanel = document.getElementById('tab-' + tabName);
      if (selectedPanel) {
        selectedPanel.classList.remove('hidden');
      }
      document.querySelectorAll('.tab-btn').forEach(function(btn) {
        btn.classList.remove('text-aegis-600', 'font-semibold');
        btn.classList.add('text-gray-400', 'font-medium');
      });
      var activeBtn = document.querySelector('[data-tab="' + tabName + '"]');
      if (activeBtn) {
        activeBtn.classList.remove('text-gray-400', 'font-medium');
        activeBtn.classList.add('text-aegis-600', 'font-semibold');
        var indicator = document.getElementById('tabIndicator');
        indicator.style.left = activeBtn.offsetLeft + 'px';
        indicator.style.width = activeBtn.offsetWidth + 'px';
      }
    }

    window.addEventListener('load', function() {
      var firstTab = document.querySelector('[data-tab="overview"]');
      if (firstTab) {
        var indicator = document.getElementById('tabIndicator');
        indicator.style.left = firstTab.offsetLeft + 'px';
        indicator.style.width = firstTab.offsetWidth + 'px';
      }
    });
    window.addEventListener('resize', function() {
      var activeTab = document.querySelector('.tab-btn.text-aegis-600');
      if (activeTab) {
        var indicator = document.getElementById('tabIndicator');
        indicator.style.left = activeTab.offsetLeft + 'px';
        indicator.style.width = activeTab.offsetWidth + 'px';
      }
    });

    // ---- Env var reveal ----
    function toggleEnvReveal(id) {
      var el = document.getElementById(id);
      if (el) {
        el.classList.toggle('revealed');
      }
    }

    // ---- Audit log filter ----
    function filterAuditLog() {
      var filter = document.getElementById('auditFilter').value;
      var rows = document.querySelectorAll('.audit-row');
      rows.forEach(function(row) {
        if (filter === 'all' || row.dataset.type === filter) {
          row.style.display = '';
        } else {
          row.style.display = 'none';
        }
      });
    }

    // ---- Action handlers ----
    function handleRestartContainer() {
      document.getElementById('actionsMenu').classList.add('hidden');
      if (confirm('Are you sure you want to restart the container for Breadfast? This will briefly interrupt all active agents.')) {
        showToast('Container restart initiated for Breadfast', 'success');
      }
    }
    function handleExportLogs() {
      document.getElementById('actionsMenu').classList.add('hidden');
      showToast('Exporting logs for Breadfast...', 'info');
    }
    function handleSuspend() {
      document.getElementById('actionsMenu').classList.add('hidden');
      if (confirm('DANGER: Suspending this tenant will immediately stop all agents and disconnect all active sessions. Continue?')) {
        showToast('Tenant suspension initiated. All agents will be stopped.', 'warning');
      }
    }
    function handleAgentClick(agentName) {
      showToast('Navigating to agent: ' + agentName, 'info');
    }

    // ---- Toast notification ----
    function showToast(message, type) {
      var toast = document.createElement('div');
      var colors = { success: 'bg-emerald-600', warning: 'bg-amber-600', info: 'bg-aegis-600', error: 'bg-red-600' };
      var icons = {
        success: '<path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>',
        warning: '<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"/>',
        info: '<path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"/>',
        error: '<path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>'
      };
      toast.className = 'fixed bottom-6 right-6 z-[9999] flex items-center gap-3 px-4 py-3 ' + (colors[type] || colors.info) + ' text-white text-[13px] font-medium rounded-xl shadow-lg shadow-black/20 transform translate-y-4 opacity-0 transition-all duration-300';
      toast.innerHTML = '<svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">' + (icons[type] || icons.info) + '</svg><span>' + message + '</span>';
      document.body.appendChild(toast);
      requestAnimationFrame(function() {
        toast.classList.remove('translate-y-4', 'opacity-0');
        toast.classList.add('translate-y-0', 'opacity-100');
      });
      setTimeout(function() {
        toast.classList.remove('translate-y-0', 'opacity-100');
        toast.classList.add('translate-y-4', 'opacity-0');
        setTimeout(function() { toast.remove(); }, 300);
      }, 3000);
    }
  </script>

</body>
</html>
