# Current Feature Tracker
# Tracks active development scope and requirements per CLAUDE.md

feature:
  name: "Tenant List & Overview"
  epic: "E2-F1"
  sprint: "Sprint 2 - Control Plane Core"
  priority: P0
  points: 5
  started_at: "2026-02-07"
  status: in_progress
  branch: tenant-list-view

requirements:
  - "Table view: tenant name, status, agent count, health, plan tier, created date"
  - "Sortable and filterable by all columns"
  - "Search by tenant name or admin email"
  - "Click-through to tenant detail page"
  - "30s polling refresh (WebSocket deferred)"

design_decisions:
  component_library: "shadcn/ui (Radix + Tailwind, components owned in codebase)"
  data_fetching: "TanStack Query with 30s polling refetchInterval"
  websocket: "Deferred - use polling for now"

tasks:
  - name: "UI Component Foundation + Admin Sidebar"
    branch: "tenant-list/ui-foundation"
    status: in_progress
    agent: ui-engineer
    subtasks:
      - "1.1 Install/configure shadcn/ui CLI"
      - "1.2 Scaffold base components: Button, Badge, Input, Select, DropdownMenu, Table, Tooltip"
      - "1.3 Build AdminSidebar component per DSL platform_admin_sidebar"
      - "1.4 Update admin/layout.tsx to use real sidebar"

  - name: "Tenant API Layer"
    branch: "tenant-list/ui-foundation"
    status: in_progress
    agent: ui-engineer
    subtasks:
      - "2.1 Create lib/api/tenants.ts with types + TanStack Query hooks"

  - name: "Tenant List Page"
    branch: "tenant-list/page-implementation"
    status: pending
    agent: ui-engineer
    subtasks:
      - "2.2 Build tenant-specific components (StatusBadge, HealthDot, filters)"
      - "2.3 Build TenantDataTable with sortable columns, actions menu"
      - "2.4 Implement /admin/tenants/page.tsx per DSL PA-03"

  - name: "Tests"
    branch: "tenant-list/tests"
    status: pending
    agent: qa-engineer
    subtasks:
      - "3.1 Unit tests for tenant API layer and hooks"
      - "3.2 Component tests for TenantDataTable, StatusBadge, HealthDot"
      - "3.3 Page-level tests for /admin/tenants"

acceptance_criteria:
  - "Data table shows all columns per DSL PA-03"
  - "Search debounced at 300ms"
  - "Filter by status and plan dropdowns"
  - "Sortable columns with visual indicators"
  - "Row click navigates to /admin/tenants/:id"
  - "Actions menu: View Details, Edit Config, Suspend"
  - "Empty state with icon + message"
  - "30s auto-refresh polling"
  - "Admin sidebar with nav items per DSL"
  - "npm run build passes"
  - "All tests pass"
